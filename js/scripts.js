function initMobileMenu(){const e=document.querySelector("#mobileMenuToggle");if(!e)return;const t=e.getElementsByTagName("img"),o=document.querySelector("#mobileNav");e.addEventListener("click",(e=>{const n="hidden";o.classList.contains(n)?(t[0].setAttribute("src","img/icons/close.svg"),o.classList.remove(n)):(t[0].setAttribute("src","img/icons/menu.svg"),o.classList.add(n))}))}function initServicesSlider(){const e=document.querySelector(".servicesSlider");if(!e)return;const t=new Swiper(e,{slidesPerView:1,effect:"fade",fadeEffect:{crossFade:!0},loop:!0}),o=document.querySelectorAll(".serviceGallerySlider");o&&o.forEach((e=>{new Swiper(e,{slidesPerView:1,effect:"fade",fadeEffect:{crossFade:!0},loop:!0,navigation:{nextEl:e.parentNode.querySelector(".serviceSliderBtnNext"),prevEl:e.parentNode.querySelector(".serviceSliderBtnPrev")}})}));const n=document.querySelectorAll(".service-slider-menu a");n.forEach((e=>{e.addEventListener("click",(function(){const e=this.getAttribute("data-index");t.slideTo(e),n.forEach((e=>e.classList.remove("active"))),this.classList.add("active")}))})),t.on("slideChange",(function(){n.forEach((e=>e.classList.remove("active")));document.querySelector(`.service-slider-menu a[data-index="${t.realIndex}"]`).classList.add("active")}))}function initReviewsSlider(){const e=document.querySelector(".reviewsSlider");if(!e)return;new Swiper(e,{slidesPerView:1,spaceBetween:25,loop:!0,navigation:{nextEl:"#reviewsSliderNextBtn",prevEl:"#reviewsSliderPrevBtn"},autoplay:{delay:5e3},breakpoints:{640:{slidesPerView:2},1024:{slidesPerView:3}}})}function initContactPopover(){const e=document.querySelectorAll(".hotspot"),t=document.querySelectorAll(".tooltip");(e||t)&&(e.forEach((e=>{const o=e.getAttribute("data-id"),n=document.querySelector(`#${o}`),i=Popper.createPopper(e,n,{placement:"top-end",modifiers:[{name:"offset",options:{offset:[0,20]}}]});e.addEventListener("click",(function(){t.forEach((e=>e.removeAttribute("data-show"))),n.setAttribute("data-show",""),i.update()}))})),document.addEventListener("click",(function(e){e.target.classList.contains("hotspot")||t.forEach((e=>e.removeAttribute("data-show")))})))}function initModals(){for(var e=document.querySelectorAll(".modal-open"),t=0;t<e.length;t++)e[t].addEventListener("click",(function(e){e.preventDefault(),n()}));document.querySelector(".modal-overlay").addEventListener("click",n);var o=document.querySelectorAll(".modal-close");for(t=0;t<o.length;t++)o[t].addEventListener("click",n);function n(){const e=document.querySelector("body"),t=document.querySelector(".modal");t.classList.toggle("opacity-0"),t.classList.toggle("pointer-events-none"),e.classList.toggle("modal-active")}document.onkeydown=function(e){("key"in(e=e||window.event)?"Escape"===e.key||"Esc"===e.key:27===e.keyCode)&&document.body.classList.contains("modal-active")&&n()}}function handleCallbackForm(){const e=document.querySelector(".callback-form");e&&e.addEventListener("submit",(t=>{t.preventDefault();const o=e.querySelector('button[type="submit"]'),n=e.closest(".form-fieldset"),i=n.nextElementSibling;return o.setAttribute("disabled",!0),o.textContent="Отправка...",new Promise((e=>{setTimeout(e,3e3)})).then((()=>{n.classList.add("hidden"),i.classList.remove("hidden")})).finally((()=>{}))}))}function initSmoothScroll(e=document){e.querySelectorAll(".smoothScroll").forEach((e=>{e.addEventListener("click",(function(e){e.preventDefault();const t=this.getAttribute("href"),o=document.querySelector(t);try{o.scrollIntoView({block:"start",behavior:"smooth"})}catch(e){console.error(`Element with the ${t} ID not found`)}}))}))}window.addEventListener("DOMContentLoaded",(()=>{document.querySelectorAll("a[href='#']").forEach((e=>{e.addEventListener("click",(e=>e.preventDefault()))})),initMobileMenu(),initModals(),handleCallbackForm(),initSmoothScroll(),initReviewsSlider(),initServicesSlider(),initContactPopover()}));